<!doctype html>
   <html>
         <script src="/js/jquery-1.11.0.js" ></script>
         <script src="/js/financeful.js" ></script>
         <script src="/js/bootstrap.js" ></script>
         <link href="css/bootstrap.min.css" rel="stylesheet">
         <link href="css/bootstrap-theme.min.css" rel="stylesheet">
         <link href="css/financeful.css" rel="stylesheet"> 

         	<p> Financeful </p> 

     
       <table style="width:20%" align="center">
     	<tr> 
    		<td > <a href="{{add_purchase}}" id="add"> ADD </a> </td> 
    		<th> <a href="{{view}}"> VIEW </a> </th>
    		<th> <a href="{{set}}"> SET </a> </th>
          </tr>
         </table>	
         <br> 

      <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
       <div id="piechart" style="width: 900px; height: 500px;" align="center"></div>

      <div id = "pie_chart_category" align = "center"> 
      <script>
    
      var prices=[]
      var price;
      var price1;
      var price2;
      var price3;
        $.getJSON("data.json", function(data) { 
            //console.log(data.key);
          var i;
          for(i=0; i < data.purchases.length; ++i) {
            prices[i] = data.purchases[i].price;
          }
        /*  price =  data.purchases[0].price;
          price1 =  data.purchases[1].price;
          price2=  data.purchases[2].price;
          price3 =  data.purchases[3].price;
          console.log(price); */
        console.log(prices[2]);
         google.charts.load('current', {'packages':['corechart']});
          google.charts.setOnLoadCallback(drawChart1);
                 function drawChart1() {
    

       //nput = "['Category', 'Amount Spent']"
        //Categories table
        var data1 = google.visualization.arrayToDataTable([
        [ 'Category', 'Amount Spent'],
          ['Entertainment', parseFloat(prices[0])],
          ['Food', parseFloat(prices[1])],
          ['Bills', parseFloat(prices[2])],
          ['Travel', parseFloat(prices[3])]
        ]);  

        var options1 = {
          title: 'My Spending Report',
        };

        var chart1 = new google.visualization.PieChart(document.getElementById('piechart'));

        chart1.draw(data1, options1);
      };

        });
        console.log("HULLOOO");

     
      </script>
      </div>
      <br>

      <div id = "pie_chart_category2" align = "center"> 
    <script type="text/javascript">
      google.charts.load('current', {'packages':['corechart']});
      google.charts.setOnLoadCallback(drawChart);
      function drawChart() {

        var data2 = google.visualization.arrayToDataTable([
          ['Mood', 'Occurrences per month'],
          ['Okay',     11],
          ['Happy',      15],
          ['Resigned',  3],
          ['Guilty', 10],
          ['Sad',    4]
        ]);

        var options = {
          title: 'My Overall Mood Report'
        };

        var chart = new google.visualization.PieChart(document.getElementById('piechart2'));

        chart.draw(data2, options);
      }
    </script>      
  </div>
   <div id="piechart2" style="width: 900px; height: 500px;"></div>


      <br>


      <div id = "pie_chart_category3" align = "center"> 
    <script type="text/javascript">
      google.charts.load('current', {'packages':['corechart']});
      google.charts.setOnLoadCallback(drawChart);
      function drawChart() {

        var data3 = google.visualization.arrayToDataTable([
          ['Mood', 'Occurrences per month'],
          ['Okay',     1],
          ['Happy',      2],
          ['Resigned',  0],
          ['Guilty', 5],
          ['Sad',    1]
        ]);

        var options = {
          title: 'My Mood for Entertainment'
        };

        var chart = new google.visualization.PieChart(document.getElementById('piechart3'));

        chart.draw(data3, options);
      }
    </script>      
  </div>
   <div id="piechart3" style="width: 900px; height: 500px;"></div>


      <br>

      <div id="status" align="center" style="font-size:200%; color:black"> Click a category to check how much you've spent! </div>

			<div id="title" align="center" style="font-size:600%; color:black" > Categories </div>
			{{#each purchases}}
			<tr>
			 <a href="#" class="category" align="center" style="font-size:300%" id="{{category}}"> 
			 	<h1> {{category}} </h1> </a> 
			 {{/each}}
			</tr>
            <div align="center"> <a href="{{history}}" style="font-size:200%; color:black"> See full purchase history </div>

   		<div id="home" align="center" style="font-size:150%">
			<a href="{{index}}" >
				Navigate to Home
			</a>
		</div>	





</html>